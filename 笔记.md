# 1.GIT 

## 1.1åŸºæœ¬æ“ä½œ

![1621216810530](image/1621216781108.png)

------

# 2.VUE

## 2.1 VUEå®ç°é˜²æ­¢ç”¨æˆ·æœªç™»å½•ç›´æ¥ä¿®æ”¹åœ°å€è·¯å¾„æ¥è®¿é—®é¡µé¢è¿›è¡Œæ‹¦æˆªåŠŸèƒ½

åœ¨å…¥å£æ–‡ä»¶main.jsåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç”¨æˆ·çš„tokenï¼Œè‹¥ä¸å­˜åœ¨åˆ™è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼š

```typescript
// å…¨å±€å‰ç½®å¯¼èˆªé’©å­ beforeEach
// ä¼šåœ¨è·¯ç”±å³å°†æ”¹å˜å‰è§¦å‘
router.beforeEach((to, from, next) => {
  let isLogin = window.localStorage.getItem('token')
  if (isLogin) {
    next()
  } else {
    if (to.path === '/login') {
      next()
    } else {
      Message.error('æ²¡æœ‰è®¿é—®æƒé™æˆ–ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•ï¼')
      next('/login')
    }
  }
})
```

## 2.2 v-resize

[GitHub - theshying/v-resize: ğŸ‰å®æ—¶ç›‘å¬å…ƒç´ width/heightå±æ€§å˜åŒ–çš„è‡ªå®šä¹‰vueæŒ‡ä»¤](https://github.com/theshying/v-resize)

#### 2.2.1 ä»‹ç»

v-resize æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå®æ—¶ç›‘å¬domå…ƒç´ å°ºå¯¸å˜åŒ–çš„è‡ªå®šä¹‰vueæŒ‡ä»¤ï¼Œ æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒæ˜¯ä»€ä¹ˆå¼•èµ·å˜åŒ–ï¼Œæ— è®ºæ˜¯flexboxå¼¹æ€§è®¡ç®—å¼•èµ·çš„å˜åŒ–ï¼Œè¿˜æ˜¯çª—å£resizeå‡èƒ½ç›‘å¬åˆ°ï¼Œç”šè‡³é€šè¿‡æ§åˆ¶å°ä¿®æ”¹å…ƒç´ çš„å°ºå¯¸ã€‚

æ€»ä¹‹åªè¦è¿™ä¸ªå…ƒç´ çš„å¤§å°å‘ç”Ÿå˜åŒ–ï¼Œå‡èƒ½ç›‘å¬åˆ°ï¼Œä¸”æ€§èƒ½å¾ˆå¥½ï¼Œä¸éœ€è¦å»è½®è¯¢å…ƒç´ çš„å¤§å°ã€‚

#### 2.2.2 åŸç†

åœ¨æ”¯æŒresizeObserveçš„æµè§ˆå™¨ä¸‹ï¼Œæˆ‘ä»¬ä¼šä¼˜å…ˆä½¿ç”¨åŸç”ŸresizeObserveæ¥ç›‘å¬å˜åŒ–ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šä½¿ç”¨iframeæ¥æ¨¡æ‹Ÿwindowçš„resizeäº‹ä»¶å®ç°ç›‘å¬

#### 2.2.3 ä½¿ç”¨

```nginx
npm install @theshy/v-resize --save
```

```vue
//åœ¨main.jså¼•å…¥å¹¶æ³¨å†Œ
import vResize from '@theshy/v-resize'
Vue.use(vResize)

//åœ¨ç»„ä»¶App.vueä¸­

<template>
  <div v-resize="resizeHandler">
  </div>
</template>

<script>
export default {
    name: "App",
    methods: {
        resizeHandler(size) {
            console.log(size); //{width:xx , height: xxx}
        },
    },
};
</script>

```

## 2.3 v-modelçš„ä¿®é¥°ç¬¦

[v-modelçš„ä¿®é¥°ç¬¦ - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/2ad32bb94cc2)

#### 2.3.1 v-model.lazy

ä½¿ç”¨`.lazy`ä¿®é¥°ç¬¦ï¼Œä¼šè½¬å˜ä¸ºåœ¨`change`äº‹ä»¶ä¸­åŒæ­¥ï¼Œç®€å•ç²—æš´çš„è®²å°±æ˜¯ï¼Œæ­¤æ—¶æ•°æ®å¹¶ä¸ä¼šåƒæˆ‘ä»¬ä»¥å‰è§åˆ°çš„`v-model`é‚£æ ·å®æ—¶æ›´æ–°æ•°æ®ï¼Œè€Œæ˜¯åœ¨**å¤±å»ç„¦ç‚¹æˆ–è€…å›è½¦æ—¶æ›´æ–°**ï¼Œè§ä¸‹é¢ç¤ºä¾‹ä»£ç 

#### 2.3.2 v-model.number

éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œæˆ‘ä»¬è¾“å…¥çš„æ•°å­—ï¼Œè™½ç„¶è¾“å…¥çš„æ˜¯æ•°å­—ï¼Œä½†å®é™…ä¸Šæ˜¯`String`ï¼Œä¸è®ºä½ æ˜¯å¦è®©type=â€˜numberâ€™ï¼Œé‚£ä¹ˆ`.number`ä¿®é¥°ç¬¦å°±å¯ä»¥å°†è¾“å…¥çš„å†…å®¹è½¬åŒ–ä¸º`Number`ç±»å‹

#### 2.3.3 v-model.trim

è‡ªåŠ¨è¿‡æ»¤è¾“å…¥çš„é¦–å°¾ç©ºæ ¼

## 2.4 ç»„ä»¶æ•°æ®åŒå‘ç»‘å®š 

```vue
v-bind:value.sync

$emit('update:keyName',Data)

```

ä½œç”¨ï¼šå¯¹ä¸€ä¸ª prop è¿›è¡Œâ€œåŒå‘ç»‘å®šâ€

åº”ç”¨åœºæ™¯ï¼šå…³é—­å¼¹æ¡†ç»„ä»¶

å®ä¾‹ï¼š

å­ç»„ä»¶ï¼š

```vue
<template>
  <div v-if="ifshow">
    <p>å­ç»„ä»¶ï¼š{{title}}</p>
    <button @click="close">å…³é—­å¼¹çª—</button>
  </div>
</template>
<script>
export default {
    props:{
        title:{
            type:String
        },
        ifshow:{
            type:Boolean
        }

    },
    methods:{
        close(){
            this.$emit('update:ifshow',false);
        }
    }
};
</script>     

```

çˆ¶ç»„ä»¶ï¼š

```vue
<template>
  <div>
    <p>çˆ¶ç»„ä»¶ï¼š{{title}}  <button @click="show">å±•ç¤ºå¼¹çª—</button></p>
    <child2 :title="title" :ifshow.sync='ifshow'></child2>
  </div>
</template>
<script>
import child2 from "./child2.vue";
export default {
  components: {
    child2
  },
  data() {
    return {
      title: "åŠªåŠ›ç€ï¼Œä»ä¸æ”¾å¼ƒ",
      ifshow:false
    };
  },
  methods: {
    show(){
      this.ifshow = true;
    }
  }
};
</script>

```

## 2.5 vueä¸­requireä¸import

[vueä¸­requireä¸importä¹‹é—´çš„åŒºåˆ«_CaseyWei-CSDNåšå®¢](https://blog.csdn.net/caseywei/article/details/90710749?utm_term=%E5%9C%A8vue%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84require&utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-0-90710749&spm=3001.4430)

- requireçš„åŸºæœ¬è¯­æ³•

  åœ¨å¯¼å‡ºçš„æ–‡ä»¶ä¸­å®šä¹‰module.export,å¯¼å‡ºçš„å¯¹è±¡çš„ç±»å‹ä¸äºˆé™å®šï¼ˆå¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œå­—ç¬¦ä¸²ï¼Œå˜é‡ï¼Œå¯¹è±¡ï¼Œæ–¹æ³•ï¼‰ï¼Œåœ¨å¼•å…¥çš„æ–‡ä»¶ä¸­è°ƒç”¨require()æ–¹æ³•å¼•å…¥å¯¹è±¡å³å¯

```js
//a.jsä¸­
module.export = {
    a: function(){
     console.log(666)
  }
}
```

```js
//b.jsä¸­
var obj = require('../a.js')
obj.a()  //666
```

ã€æ³¨ã€‘:æœ¬è´¨ä¸Šæ˜¯å°†è¦å¯¼å‡ºçš„å¯¹è±¡èµ‹å€¼ç»™moduleè¿™ä¸ªçš„å¯¹è±¡çš„exportå±æ€§ï¼Œåœ¨å…¶ä»–æ–‡ä»¶ä¸­é€šè¿‡requireè¿™ä¸ªæ–¹æ³•è®¿é—®è¯¥å±æ€§



- importçš„åŸºæœ¬è¯­æ³•
  æ ¸å¿ƒæ¦‚å¿µï¼šå¯¼å‡ºçš„å¯¹è±¡å¿…é¡»ä¸æ¨¡å—ä¸­çš„å€¼ä¸€ä¸€å¯¹åº”ï¼Œæ¢ä¸€ç§è¯´æ³•å°±æ˜¯**å¯¼å‡ºçš„å¯¹è±¡ä¸æ•´ä¸ªæ¨¡å—è¿›è¡Œè§£æ„èµ‹å€¼**ã€‚å¯¹çš„ï¼Œä½ æ²¡æœ‰å¬é”™ã€‚æŠ“ä½é‡ç‚¹ï¼Œè§£æ„èµ‹å€¼ï¼ï¼ï¼ï¼ï¼

  ```js
  //a.jsä¸­
  export default{    //ï¼ˆæœ€å¸¸ä½¿ç”¨çš„æ–¹æ³•,åŠ å…¥defaultå…³é”®å­—ä»£è¡¨åœ¨importæ—¶å¯ä»¥ä½¿ç”¨ä»»æ„å˜é‡åå¹¶ä¸”ä¸éœ€è¦èŠ±æ‹¬å·{}ï¼‰
       a: function(){
           console.log(666)
     }
  }
   
  export function(){  //å¯¼å‡ºå‡½æ•°
   
  }
   
  export {newA as a ,b,c}  //  è§£æ„èµ‹å€¼è¯­æ³•(aså…³é”®å­—åœ¨è¿™é‡Œè¡¨ç¤ºå°†newAä½œä¸ºaçš„æ•°æ®æ¥å£æš´éœ²ç»™å¤–éƒ¨ï¼Œå¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®a)
   
  //b.jsä¸­
  import  a  from  '...'  //importå¸¸ç”¨è¯­æ³•ï¼ˆéœ€è¦exportä¸­å¸¦æœ‰defaultå…³é”®å­—ï¼‰å¯ä»¥ä»»æ„æŒ‡å®šimportçš„åç§°
   
  import {...} from '...'  // åŸºæœ¬æ–¹å¼ï¼Œå¯¼å…¥çš„å¯¹è±¡éœ€è¦ä¸exportå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚
   
  import a as biubiubiu from '...'  //ä½¿ç”¨aså…³é”®å­—ï¼Œè¿™é‡Œè¡¨ç¤ºå°†aä»£è¡¨biubiubiuå¼•å…¥ï¼ˆå½“å˜é‡åç§°æœ‰å†²çªæ—¶å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼è§£å†³å†²çªï¼‰
   
  import {a as biubiubiu,b,c}  //aså…³é”®å­—çš„å…¶ä»–ä½¿ç”¨æ–¹æ³•
  ```

**å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«**

- require æ˜¯èµ‹å€¼è¿‡ç¨‹å¹¶ä¸”æ˜¯è¿è¡Œæ—¶æ‰æ‰§è¡Œï¼Œ import æ˜¯è§£æ„è¿‡ç¨‹å¹¶ä¸”æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œã€‚requireå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå…¨å±€æ–¹æ³•ï¼Œæ‰€ä»¥å®ƒç”šè‡³å¯ä»¥è¿›è¡Œä¸‹é¢è¿™æ ·çš„éªšæ“ä½œï¼Œæ˜¯ä¸€ä¸ªæ–¹æ³•å°±æ„å‘³ç€å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰§è¡Œã€‚è€Œimportå¿…é¡»å†™åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ã€‚â€‹	

```js
var a = require(a() + '/ab.js')
```

- requireçš„æ€§èƒ½ç›¸å¯¹äºimportç¨ä½ï¼Œå› ä¸ºrequireæ˜¯åœ¨è¿è¡Œæ—¶æ‰å¼•å…¥æ¨¡å—å¹¶ä¸”è¿˜èµ‹å€¼ç»™æŸä¸ªå˜é‡ï¼Œè€Œimportåªéœ€è¦ä¾æ®importä¸­çš„æ¥å£åœ¨ç¼–è¯‘æ—¶å¼•å…¥æŒ‡å®šæ¨¡å—æ‰€ä»¥æ€§èƒ½ç¨é«˜

## 2.6 process.env.NODE_ENV

åœ¨nodeä¸­ï¼Œæœ‰å…¨å±€å˜é‡processè¡¨ç¤ºçš„æ˜¯å½“å‰çš„nodeè¿›ç¨‹ã€‚
process.envåŒ…å«ç€å…³äºç³»ç»Ÿç¯å¢ƒçš„ä¿¡æ¯ï¼Œä½†æ˜¯process.envä¸­å¹¶ä¸å­˜åœ¨NODE_ENVè¿™ä¸ªä¸œè¥¿ã€‚

> NODE_ENVæ˜¯ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å˜é‡ï¼Œåœ¨webpackä¸­å®ƒçš„ç”¨é€”æ˜¯**åˆ¤æ–­ç”Ÿäº§ç¯å¢ƒæˆ–å¼€å‘ç¯å¢ƒ**ã€‚

åœ¨vueä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`console.log(process);`å‘½ä»¤å°å¦‚ä¸‹ä¿¡æ¯ï¼š

```dart
$ node process.js
process {
  title: 'node',
  version: 'v4.4.4',
  moduleLoadList: 
   [....],
  versions: 
   { http_parser: '2.5.2',
     node: '4.4.4',
     v8: '4.5.103.35',
     uv: '1.8.0',
     zlib: '1.2.8',
     ares: '1.10.1-DEV',
     icu: '56.1',
     modules: '46',
     openssl: '1.0.2h' },
  arch: 'x64',
  platform: 'darwin',
  release: 
   { name: 'node',
     lts: 'Argon',
     sourceUrl: 'https://nodejs.org/download/release/v4.4.4/node-v4.4.4.tar.gz',
     headersUrl: 'https://nodejs.org/download/release/v4.4.4/node-v4.4.4-headers.tar.gz' },
  argv: 
   [ '/Users/tugenhua/.nvm/versions/node/v4.4.4/bin/node',
     '/Users/tugenhua/ä¸ªäººdemo/process.js' ],
  execArgv: [],
  env: 
   { TERM_PROGRAM: 'Apple_Terminal',
     SHELL: '/bin/zsh',
     TERM: 'xterm-256color',
     TMPDIR: '/var/folders/l7/zndlx1qs05v29pjhvkgpmhjm0000gn/T/',
     Apple_PubSub_Socket_Render: '/private/tmp/com.apple.launchd.7Ax4C1EWMx/Render',
     TERM_PROGRAM_VERSION: '404',
     TERM_SESSION_ID: '82E05668-442D-4180-ADA3-8CF64D85E5A9',
     USER: 'tugenhua',
     SSH_AUTH_SOCK: '/private/tmp/com.apple.launchd.MYOMheYcL3/Listeners',
     PATH: '/Users/tugenhua/.nvm/versions/node/v4.4.4/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin',
     PWD: '/Users/tugenhua/ä¸ªäººdemo',
     LANG: 'zh_CN.UTF-8',
     XPC_FLAGS: '0x0',
     XPC_SERVICE_NAME: '0',
     SHLVL: '1',
     HOME: '/Users/tugenhua',
     LOGNAME: 'tugenhua',
     SECURITYSESSIONID: '186a8',
     OLDPWD: '/Users/tugenhua/å·¥ä½œæ–‡æ¡£/sns_pc',
     ZSH: '/Users/tugenhua/.oh-my-zsh',
     PAGER: 'less',
     LESS: '-R',
     LC_CTYPE: 'zh_CN.UTF-8',
     LSCOLORS: 'Gxfxcxdxbxegedabagacad',
     NVM_DIR: '/Users/tugenhua/.nvm',
     NVM_NODEJS_ORG_MIRROR: 'https://nodejs.org/dist',
     NVM_IOJS_ORG_MIRROR: 'https://iojs.org/dist',
     NVM_RC_VERSION: '',
     MANPATH: '/Users/tugenhua/.nvm/versions/node/v4.4.4/share/man:/usr/local/share/man:/usr/share/man:/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.13.sdk/usr/share/man:/Applications/Xcode.app/Contents/Developer/usr/share/man:/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/share/man',
     NVM_PATH: '/Users/tugenhua/.nvm/versions/node/v4.4.4/lib/node',
     NVM_BIN: '/Users/tugenhua/.nvm/versions/node/v4.4.4/bin',
     _: '/Users/tugenhua/.nvm/versions/node/v4.4.4/bin/node',
     __CF_USER_TEXT_ENCODING: '0x1F5:0x19:0x34' },
  pid: 14034,
  features: 
   { debug: false,
     uv: true,
     ipv6: true,
     tls_npn: true,
     tls_sni: true,
     tls_ocsp: true,
     tls: true },
  _needImmediateCallback: false,
  config: {},
  nextTick: [Function: nextTick],
  _tickCallback: [Function: _tickCallback],
  _tickDomainCallback: [Function: _tickDomainCallback],
  stdout: [Getter],
  stderr: [Getter],
  stdin: [Getter],
  openStdin: [Function],
  exit: [Function],
  kill: [Function],
  mainModule: 
   Module {
     id: '.',
     exports: {},
     parent: null,
     filename: '/Users/tugenhua/ä¸ªäººdemo/process.js',
     loaded: false,
     children: [],
     paths: 
      [ '/Users/tugenhua/ä¸ªäººdemo/node_modules',
        '/Users/tugenhua/node_modules',
        '/Users/node_modules',
        '/node_modules' ] } }
```

## 2.7 this.$nextTick(callback)--åœ¨æ›´æ–°Domåå†è§¦å‘çš„å›è°ƒ

å®˜æ–¹è§£é‡Šï¼š

â€‹	å¯èƒ½ä½ è¿˜æ²¡æœ‰æ³¨æ„åˆ°ï¼ŒVue åœ¨æ›´æ–° DOM æ—¶æ˜¯**å¼‚æ­¥**æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚**å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚**è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ `Promise.then`ã€`MutationObserver` å’Œ `setImmediate`ï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ `setTimeout(fn, 0)` ä»£æ›¿ã€‚

â€‹	ä¾‹å¦‚ï¼Œå½“ä½ è®¾ç½® `vm.someData = 'new value'`ï¼Œè¯¥ç»„ä»¶ä¸ä¼šç«‹å³é‡æ–°æ¸²æŸ“ã€‚å½“åˆ·æ–°é˜Ÿåˆ—æ—¶ï¼Œç»„ä»¶ä¼šåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯â€œtickâ€ä¸­æ›´æ–°ã€‚å¤šæ•°æƒ…å†µæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒè¿™ä¸ªè¿‡ç¨‹ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³åŸºäºæ›´æ–°åçš„ DOM çŠ¶æ€æ¥åšç‚¹ä»€ä¹ˆï¼Œè¿™å°±å¯èƒ½ä¼šæœ‰äº›æ£˜æ‰‹ã€‚è™½ç„¶ Vue.js é€šå¸¸é¼“åŠ±å¼€å‘äººå‘˜ä½¿ç”¨â€œæ•°æ®é©±åŠ¨â€çš„æ–¹å¼æ€è€ƒï¼Œé¿å…ç›´æ¥æ¥è§¦ DOMï¼Œä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¿…é¡»è¦è¿™ä¹ˆåšã€‚ä¸ºäº†åœ¨æ•°æ®å˜åŒ–ä¹‹åç­‰å¾… Vue å®Œæˆæ›´æ–° DOMï¼Œå¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨ `Vue.nextTick(callback)`ã€‚è¿™æ ·å›è°ƒå‡½æ•°å°†åœ¨ DOM æ›´æ–°å®Œæˆåè¢«è°ƒç”¨ã€‚

â€‹	åœ¨ç»„ä»¶å†…ä½¿ç”¨ `vm.$nextTick()` å®ä¾‹æ–¹æ³•ç‰¹åˆ«æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å…¨å±€ `Vue`ï¼Œå¹¶ä¸”å›è°ƒå‡½æ•°ä¸­çš„ `this` å°†è‡ªåŠ¨ç»‘å®šåˆ°å½“å‰çš„ Vue å®ä¾‹ä¸Šï¼š

```javascript
Vue.component('example', {
  template: '<span>{{ message }}</span>',
  data: function () {
    return {
      message: 'æœªæ›´æ–°'
    }
  },
  methods: {
    updateMessage: function () {
      this.message = 'å·²æ›´æ–°'
      console.log(this.$el.textContent) // => 'æœªæ›´æ–°'
      this.$nextTick(function () {
        console.log(this.$el.textContent) // => 'å·²æ›´æ–°'
      })
    }
  }
})
```

å› ä¸º `$nextTick()` è¿”å›ä¸€ä¸ª `Promise` å¯¹è±¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨æ–°çš„ [ES2017 async/await](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function) è¯­æ³•å®Œæˆç›¸åŒçš„äº‹æƒ…ï¼š

```javascript
methods: {
updateMessage: async function () {
this.message = 'å·²æ›´æ–°'
console.log(this.$el.textContent) // => 'æœªæ›´æ–°'
await this.$nextTick()
console.log(this.$el.textContent) // => 'å·²æ›´æ–°'
}
}
```

## 2.8 vue mixins

æ··å…¥ (mixin) æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚

ä¾‹å­ï¼š

```js
// å®šä¹‰ä¸€ä¸ªæ··å…¥å¯¹è±¡
var myMixin = {
  created: function () {
    this.hello()
  },
  methods: {
    hello: function () {
      console.log('hello from mixin!')
    }
  }
}

// å®šä¹‰ä¸€ä¸ªä½¿ç”¨æ··å…¥å¯¹è±¡çš„ç»„ä»¶
var Component = Vue.extend({
  mixins: [myMixin]
})

var component = new Component() // => "hello from mixin!"
```

#### 2.8.1 é€‰é¡¹åˆå¹¶

å½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼è¿›è¡Œâ€œåˆå¹¶â€ã€‚

æ¯”å¦‚ï¼Œæ•°æ®å¯¹è±¡åœ¨å†…éƒ¨ä¼šè¿›è¡Œé€’å½’åˆå¹¶ï¼Œå¹¶åœ¨å‘ç”Ÿå†²çªæ—¶ä»¥ç»„ä»¶æ•°æ®ä¼˜å…ˆã€‚

```js
var mixin = {
  data: function () {
    return {
      message: 'hello',
      foo: 'abc'
    }
  }
}

new Vue({
  mixins: [mixin],
  data: function () {
    return {
      message: 'goodbye',
      bar: 'def'
    }
  },
  created: function () {
    console.log(this.$data)
    // => { message: "goodbye", foo: "abc", bar: "def" }
  }
})
```

åŒåé’©å­å‡½æ•°å°†åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ã€‚å¦å¤–ï¼Œæ··å…¥å¯¹è±¡çš„é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­**ä¹‹å‰**è°ƒç”¨ã€‚

```js
var mixin = {
  created: function () {
    console.log('æ··å…¥å¯¹è±¡çš„é’©å­è¢«è°ƒç”¨')
  }
}

new Vue({
  mixins: [mixin],
  created: function () {
    console.log('ç»„ä»¶é’©å­è¢«è°ƒç”¨')
  }
})

// => "æ··å…¥å¯¹è±¡çš„é’©å­è¢«è°ƒç”¨"
// => "ç»„ä»¶é’©å­è¢«è°ƒç”¨"
```

å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ `methods`ã€`components` å’Œ `directives`ï¼Œå°†è¢«åˆå¹¶ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡**é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹**

```js
var mixin = {
  methods: {
    foo: function () {
      console.log('foo')
    },
    conflicting: function () {
      console.log('from mixin')
    }
  }
}

var vm = new Vue({
  mixins: [mixin],
  methods: {
    bar: function () {
      console.log('bar')
    },
    conflicting: function () {
      console.log('from self')
    }
  }
})

vm.foo() // => "foo"
vm.bar() // => "bar"
vm.conflicting() // => "from self"
```

#### 2.8.2 å…¨å±€æ··å…¥

æ··å…¥ä¹Ÿå¯ä»¥è¿›è¡Œå…¨å±€æ³¨å†Œã€‚ä½¿ç”¨æ—¶æ ¼å¤–å°å¿ƒï¼ä¸€æ—¦ä½¿ç”¨å…¨å±€æ··å…¥ï¼Œå®ƒå°†å½±å“**æ¯ä¸€ä¸ª**ä¹‹ååˆ›å»ºçš„ Vue å®ä¾‹ã€‚ä½¿ç”¨æ°å½“æ—¶ï¼Œè¿™å¯ä»¥ç”¨æ¥ä¸ºè‡ªå®šä¹‰é€‰é¡¹æ³¨å…¥å¤„ç†é€»è¾‘ã€‚

```js
// ä¸ºè‡ªå®šä¹‰çš„é€‰é¡¹ 'myOption' æ³¨å…¥ä¸€ä¸ªå¤„ç†å™¨ã€‚
Vue.mixin({
  created: function () {
    var myOption = this.$options.myOption
    if (myOption) {
      console.log(myOption)
    }
  }
})

new Vue({
  myOption: 'hello!'
})
// => "hello!"
```

è¯·è°¨æ…ä½¿ç”¨å…¨å±€æ··å…¥ï¼Œå› ä¸ºå®ƒä¼šå½±å“æ¯ä¸ªå•ç‹¬åˆ›å»ºçš„ Vue å®ä¾‹ (åŒ…æ‹¬ç¬¬ä¸‰æ–¹ç»„ä»¶)ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªåº”å½“åº”ç”¨äºè‡ªå®šä¹‰é€‰é¡¹ï¼Œå°±åƒä¸Šé¢ç¤ºä¾‹ä¸€æ ·ã€‚æ¨èå°†å…¶ä½œä¸º[æ’ä»¶](https://cn.vuejs.org/v2/guide/plugins.html)å‘å¸ƒï¼Œä»¥é¿å…é‡å¤åº”ç”¨æ··å…¥ã€‚

#### 2.8.3 è‡ªå®šä¹‰é€‰é¡¹åˆå¹¶ç­–ç•¥

è‡ªå®šä¹‰é€‰é¡¹å°†ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼Œå³ç®€å•åœ°è¦†ç›–å·²æœ‰å€¼ã€‚å¦‚æœæƒ³è®©è‡ªå®šä¹‰é€‰é¡¹ä»¥è‡ªå®šä¹‰é€»è¾‘åˆå¹¶ï¼Œå¯ä»¥å‘ `Vue.config.optionMergeStrategies` æ·»åŠ ä¸€ä¸ªå‡½æ•°ï¼š

```js
Vue.config.optionMergeStrategies.myOption = function (toVal, fromVal) {
  // è¿”å›åˆå¹¶åçš„å€¼
}
```

å¯¹äºå¤šæ•°å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸ `methods` ç›¸åŒçš„åˆå¹¶ç­–ç•¥ï¼š

```js
var strategies = Vue.config.optionMergeStrategies
strategies.myOption = strategies.methods	
```

å¯ä»¥åœ¨ [Vuex](https://github.com/vuejs/vuex) 1.x çš„æ··å…¥ç­–ç•¥é‡Œæ‰¾åˆ°ä¸€ä¸ªæ›´é«˜çº§çš„ä¾‹å­ï¼š

```js
const merge = Vue.config.optionMergeStrategies.computed
Vue.config.optionMergeStrategies.vuex = function (toVal, fromVal) {
  if (!toVal) return fromVal
  if (!fromVal) return toVal
  return {
    getters: merge(toVal.getters, fromVal.getters),
    state: merge(toVal.state, fromVal.state),
    actions: merge(toVal.actions, fromVal.actions)
  }
}
```

#### 2.8.4 ä¸è¶³

åœ¨ Vue 2 ä¸­ï¼Œmixin æ˜¯å°†éƒ¨åˆ†ç»„ä»¶é€»è¾‘æŠ½è±¡æˆå¯é‡ç”¨å—çš„ä¸»è¦å·¥å…·ã€‚ä½†æ˜¯ï¼Œä»–ä»¬æœ‰å‡ ä¸ªé—®é¢˜ï¼š

- Mixin å¾ˆå®¹æ˜“å‘ç”Ÿå†²çªï¼šå› ä¸ºæ¯ä¸ª mixin çš„ property éƒ½è¢«åˆå¹¶åˆ°åŒä¸€ä¸ªç»„ä»¶ä¸­ï¼Œæ‰€ä»¥ä¸ºäº†é¿å… property åå†²çªï¼Œä½ ä»ç„¶éœ€è¦äº†è§£å…¶ä»–æ¯ä¸ªç‰¹æ€§ã€‚
- å¯é‡ç”¨æ€§æ˜¯æœ‰é™çš„ï¼šæˆ‘ä»¬ä¸èƒ½å‘ mixin ä¼ é€’ä»»ä½•å‚æ•°æ¥æ”¹å˜å®ƒçš„é€»è¾‘ï¼Œè¿™é™ä½äº†å®ƒä»¬åœ¨æŠ½è±¡é€»è¾‘æ–¹é¢çš„çµæ´»æ€§ã€‚

ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ç§é€šè¿‡é€»è¾‘å…³æ³¨ç‚¹ç»„ç»‡ä»£ç çš„æ–°æ–¹æ³•ï¼š[ç»„åˆå¼ API](https://v3.cn.vuejs.org/guide/composition-api-introduction.html)ã€‚



------

## 2.9 ç‚¹å‡»buttonæŒ‰é’®é¡µé¢è‡ªåŠ¨åˆ·æ–°é—®é¢˜

### 2.9.1 é—®é¢˜æè¿°ï¼š

åœ¨vueä¸­ä½¿ç”¨åŸç”Ÿçš„buttonï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶åç‚¹å‡»æŒ‰é’®ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ã€‚

### 2.9.2 åŸå› ï¼š

åŸç”ŸæŒ‰é’®`button`é»˜è®¤`type='submit'`è¿™ä¸ªå±æ€§å€¼æ˜¯é»˜è®¤å…·æœ‰è¡¨å•æäº¤åŠŸèƒ½çš„ï¼Œæ‰€ä»¥åœ¨`éIEæµè§ˆå™¨`ä¸‹ä¼šå­˜åœ¨ç‚¹å‡»ååˆ·æ–°é¡µé¢çš„é—®é¢˜

### 2.9.3 è§£å†³æ–¹æ¡ˆï¼š

- è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨åŸç”Ÿ`button`æŒ‰é’®ä¸­æ›´æ”¹`type='button'`å±æ€§å€¼å°±å¯ä»¥äº†ï¼Œæ­¤æ—¶å®ƒå°±æ˜¯ä¸€ä¸ª`å•çº¯`çš„æŒ‰é’®äº†
- è§£å†³æ–¹æ¡ˆ2:  å¯ä»¥ä½¿ç”¨`input`æ ‡ç­¾ï¼Œç„¶åå†è®¾ç½®`type='button'`ä¹Ÿèƒ½è§£å†³
- è§£å†³æ–¹æ¡ˆ3:  è‡ªå·±å†™å—å…ƒç´ ,é€šè¿‡æ ·å¼æ›´æ”¹ä¸ºæŒ‰é’®
- è§£å†³æ–¹æ¡ˆ4:  é‡‡ç”¨elementUIçš„`el-button`ã€‚

---

## 2.10 ç»„ä»¶åµŒå¥—æ—¶å­ç»„ä»¶çš„æ­£ç¡®æ³¨å†Œæ–¹å¼

é—®é¢˜æè¿°ï¼šå½“ä¸€ä¸ªç»„ä»¶ï¼ˆaï¼‰å†…éƒ¨çš„å†…éƒ¨éœ€è¦å¼•å…¥å®ƒæœ¬èº«æ—¶ï¼Œä»£ç å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š

p.vue

```vue
<template>
  <a>
    <button></button>
    <c></c>
  </a> 
</template>

<script>
  import a form 'xxx'
  import c from 'aaa'
</script>
```

c.vue

```vue
<template>
  <a></a>
</template>

<script>
  import a form 'xxx'
</script>
```

è¿™æ ·å­ä»£ç å°±ä¼šæŠ¥é”™ï¼Œå‘Šè¯‰ä½ æ³¨å†Œçš„æ–¹å¼æœ‰è¯¯ã€‚

```
Unknown custom element: <PlanMesgDialog> - did you register the component correctly? For recursive components, make sure to provide the "name" option.
```

æ­£ç¡®çš„æ³¨å†Œæ–¹å¼ï¼š

å­ç»„ä»¶åº”è¯¥åœ¨beforeCreateçš„æ—¶å€™è¿›è¡Œæ³¨å†Œã€‚å³

```vue
<script>
	beforeCreate() {
    	this.$options.components.a = require('xxx').default;
  	},
</script>
```

---

## 2.11 ç†è§£ v-modelã€v-bindã€$attrsã€ $listener å’Œ .sync åŠå…¶åœ¨è·¨ç»„ä»¶æ•°æ®åŒå‘ç»‘å®šä¸Šçš„åº”ç”¨

### 2.11.1 v-model çš„æœ¬è´¨

```js
<MyList v-model="lovingVue"></MyList
<!-- å…¶å®æ˜¯ä»¥ä¸‹çš„è¯­æ³•ç³– -->
<MyList :value="lovingVue" @input="(data) => lovingVue = data"></MyList>
```

v-model çš„æœ¬è´¨æ˜¯ï¼šçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ ä¸€ä¸ªåä¸º `value` çš„`prop`ï¼Œç„¶åå¯¹å­ç»„ä»¶æŒ‚è½½ä¸€ä¸ªåä¸º`input` çš„äº‹ä»¶ç›‘å¬ã€‚å½“å­ç»„ä»¶æ‰‹åŠ¨ `emit` è¿™ä¸ªinput äº‹ä»¶æ—¶ï¼Œæºå¸¦çš„è½½è·è‡ªåŠ¨èµ‹å€¼åˆ°`v-model`åç»‘çš„çˆ¶ç»„ä»¶å˜é‡ä¸Šã€‚ï¼ˆæ‰€ä»¥å…¶å®ä¸æ˜¯è‡ªåŠ¨åŒå‘ç»‘å®šï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨`emit` inputäº‹ä»¶çš„ã€‚ï¼‰

### 2.11.2 v-bindçš„æœ¬è´¨

æœ¬è´¨æ˜¯ æ‰¹é‡ä¼ å…¥props

```vue

<Component v-bind="{a: foo, b: bar, c: baz}" />
 <!-- ç›¸å½“äº -->
<Component
    v-bind:a=foo
    :b=bar
    :c=baz 
/>
```

### 2.11.3 $attrsçš„æœ¬è´¨

çˆ¶ç»„ä»¶ä»¥å½¢å¦‚:foo="xxx"æˆ–è€…v-bind="{age:12}"ä¼ ç»™å­ç»„ä»¶çš„å±æ€§ï¼Œä½†å‡¡æ²¡æœ‰è¢«å­ç»„ä»¶çš„propsæ¥æ”¶çš„ï¼Œéƒ½ä¼šè¢«æ‰”åˆ°å­ç»„ä»¶çš„$attrsé‡Œå»ã€‚

ï¼ˆå¦å¤–ï¼Œè¢«propsæŒ‡åæ¥æ”¶çš„ï¼Œéƒ½æ”¾å…¥å­ç»„ä»¶çš„$propsé‡Œã€‚ï¼‰

### 2.11.4 $listenersçš„æœ¬è´¨

çˆ¶ç»„ä»¶ä»¥ @eventName="fn" æˆ–è€… v-on:eventName="fn" å¯¹å­ç»„ä»¶æŒ‚è½½äº‹ä»¶ç›‘å¬ã€‚å¯¹å­ç»„ä»¶è€Œè¨€ï¼Œçˆ¶ç»„ä»¶ç›‘å¬çš„äº‹ä»¶éƒ½æ”¾åœ¨$listenersé‡Œã€‚

å¦‚æœå¯¹åä»£ç»„ä»¶ä½¿ç”¨v-on="$listeners"ï¼Œåˆ™ç›¸å½“äºå¯¹åä»£ç»„ä»¶æ‰¹é‡æŒ‚è½½äº†çˆ¶ç»„ä»¶å¯¹è‡ªå·±çš„äº‹ä»¶ç›‘å¬ã€‚å› æ­¤åä»£ç»„ä»¶çš„emitä¹Ÿä¼šè§¦å‘çˆ¶ç»„ä»¶çš„äº‹ä»¶æ–¹æ³•ã€‚

å±‚çº§å…³ç³»è¯´æ˜ï¼šçˆ¶ç»„ä»¶>å­ç»„ä»¶>åä»£ç»„ä»¶

![image-20220124141651209](image/image-20220124141651209.png)

### 2.11.5 .syncçš„æœ¬è´¨

```vue
<Component 
    :foo="val"
    @update:foo="(payload)=>{ val = payload }"
/>
<!-- å®è´¨æ˜¯ è¯­æ³•ç³– -->
<Component :foo.sync="val" />
```

```js
// å­ç»„ä»¶ä½¿ç”¨
this.$emit('update:foo', payload)
```

å®è´¨æ˜¯æ›´æ–¹ä¾¿åœ°å®ç°æ•°æ®åŒå‘ç»‘å®šã€‚å³æ•°æ®æµå‘çˆ¶->å­å¤©ç„¶å®ç°ï¼Œå­->çˆ¶åªéœ€å­ç»„ä»¶emitç›¸å…³äº‹ä»¶å³å¯ï¼Œä»è€Œå®ç°åŒå‘ç»‘å®šã€‚

```vue
<!-- A Component -->
<template>
    <BComponent v-model="modalShow"></BComponent>
</template>
 
<script>
    this.modalShow = true // å¾€ä¸‹ä¼ é€’çŠ¶æ€ï¼Œç›´æ¥åˆ°C
</script>
 
 
<!-- B Component -->
<template>
    <CComponent v-bind="$attrs" v-on="$listeners"></CComponent>
</template>
 
<script>
    // ä¸­é—´ç»„ä»¶ä¹Ÿå¯ä»¥ä¸­é€”å‘ä¸¤è¾¹æ›´æ”¹çŠ¶æ€,ä¸€è‡´æ€§éœ€è¦æ‰‹åŠ¨ä¿æŒ
    // this.$attrs.value = true
    // this.$emit('input', true)
</script>
 
 
<!-- C Component -->
<script>
    props: {
        value:boolean
    },
    methods: {
       handleClose(){
           this.$emit('input', false) // å¾€ä¸ŠemitçŠ¶æ€ï¼Œç›´æ¥åˆ°A
       } 
    }
</script>
```

æ€»ç»“ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯ä¸­é—´ä¼ é€’ç»„ä»¶çš„ v-bind="$attrs" v-on="$listeners"ã€‚

çˆ¶ç»„ä»¶æ›´æ”¹äº†æ•°æ®ï¼Œä¼šå› ä¸º $atrrs çš„ä¼ é€’è‡ªç„¶åœ°ä¼ é€’åˆ°åä»£ç»„ä»¶ã€‚è€Œåä»£ç»„ä»¶ emit ä¸€ä¸ª input äº‹ä»¶ï¼Œä¼šå› ä¸º $listeners è‡ªç„¶åœ°å†’åˆ°çˆ¶ç»„ä»¶å¤„ã€‚åˆå› ä¸ºçˆ¶ç»„ä»¶çš„ v-model è€Œè‡ªåŠ¨æŠŠæ–°æ•°æ®èµ‹å€¼åˆ°çˆ¶ç»„ä»¶å˜é‡ä¸Šï¼Œå› æ­¤å®ç°äº†æ‰€è°“çš„"åŒå‘ç»‘å®š"ã€‚

## 2.12 åœ¨Vueå¾€æ•°ç»„çš„å¯¹è±¡åŸå‹æ–°å¢æ–¹æ³•

é¦–å…ˆåˆ›å»ºä¸€ä¸ªjsï¼Œå¹¶å†™å…¥ç›¸åº”çš„ä»£ç ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºç®­å¤´å‡½æ•°å’ŒåŒ¿åå‡½æ•°çš„thisæŒ‡å‘æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¯¦æƒ…å‚è§æœ¬æ–‡çš„â€œvueä¸­thisæŒ‡å‘é—®é¢˜â€

```js
/*prototypeExpand å¯¹è±¡åŸå‹çš„æ‰©å±•*/
/**
 * ç§»é™¤æ•°ç»„æŸä¸€å…ƒç´ 
 * @param callback å›è°ƒå‡½æ•°
 * @returns {number}
 */
Array.prototype.remove = function (callback){
  let index = this.findIndex(callback);
  if (index > -1) {
    this.splice(index, 1);
  }
  return index
}
```

ç„¶åå†åœ¨main.jsä¸­å¼•å…¥ã€‚

## 2.13 Vueä¸­thisæŒ‡å‘é—®é¢˜

å¯¹äºä½¿ç”¨functionå®šä¹‰çš„å‡½æ•°ï¼Œå®ƒé‡Œé¢ä½¿ç”¨çš„**thisæ˜¯ç”±å®ƒçš„(æ‰§è¡Œæ—¶çš„)ç›´æ¥è°ƒç”¨è€…å†³å®š**ã€‚å¦‚æœæ²¡æœ‰**ç›´æ¥è°ƒç”¨è€…**ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘**window**ã€‚

**ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this**ï¼Œåœ¨å®ƒé‡Œé¢ä½¿ç”¨çš„thisæŒ‡å‘çš„æ˜¯**å®šä¹‰ç®­å¤´å‡½æ•°æ—¶(æ³¨æ„ï¼šå¹¶éæ‰§è¡Œæ—¶)**æ‰€å¤„çš„**å®¿ä¸»å¯¹è±¡**ã€‚

showMessage1()é‡Œçš„thisæŒ‡çš„æ˜¯windowï¼Œè€ŒshowMessage2()é‡Œçš„thisæŒ‡çš„æ˜¯vueå®ä¾‹ã€‚

```js
showMessage1: function(){
	setTimeout(function() {
		document.getElementById("id1").innerText = this.message;
	}, 10)
},
showMessage2: function() {
	setTimeout(() => {
		document.getElementById("id2").innerText = this.message;
	}, 10)
}
```

showMessage1é‡Œä½¿ç”¨äº†åŒ¿åå‡½æ•°ï¼ŒthisæŒ‡å‘windowï¼ŒshowMessage2é‡Œå®šä¹‰çš„ç®­å¤´å‡½æ•°å®¿ä¸»å¯¹è±¡ä¸ºVueå®ä¾‹ï¼Œæ‰€ä»¥å®ƒé‡Œé¢ä½¿ç”¨çš„thisæŒ‡å‘Vueå®ä¾‹ã€‚

**ä¸ºä»€ä¹ˆè¦let that = this ï¼Ÿ**

> ä¸ºäº†ä¿ç•™thisæŒ‡å‘ï¼Œåœ¨ä¸€äº›å†…å±‚å‡½æ•°å†…ï¼ˆå¦‚å°è£…çš„è¯·æ±‚ï¼‰ï¼Œä»–çš„thisæŒ‡å‘å¹¶ä¸æ˜¯å½“å‰çš„Vueå®ä¾‹ï¼Œæ‰€ä»¥è¦å®šä¹‰ä¸€ä¸ªå€¼ä¿å­˜ä¸€ä¸‹thisï¼Œåœ¨éœ€è¦è®¿é—®è°ƒç”¨Vueå®ä¾‹çš„æ—¶å€™ä½¿ç”¨

## 2.14 CLI 2æ›´æ¢æµè§ˆå™¨å›¾æ ‡(favicon)çš„æ–¹å¼

æŠŠå‡†å¤‡å¥½çš„å›¾ç‰‡æ–‡ä»¶æ”¾åˆ°æ ¹ç›®å½•ï¼Œä¿®æ”¹ build æ–‡ä»¶å¤¹ä¸‹ webpack.prod.conf.js ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰å’Œ webpack.dev.conf.jsï¼ˆå¼€å‘ç¯å¢ƒï¼‰ æ–‡ä»¶ï¼š

```js
var path = require('path') // ä¸€èˆ¬vue-cliä¼šè‡ªå¸¦ï¼Œå½“ç„¶äº†ï¼Œæ²¡æœ‰çš„è¯ï¼Œå†æ‰‹åŠ¨å¼•å…¥

// HtmlWebpackPlugin ä¸­æ·»åŠ  favicon
new HtmlWebpackPlugin({
  filename: 'index.html',
  template: 'index.html',
  favicon: path.resolve('favicon.ico'), // å¼•å…¥å›¾ç‰‡åœ°å€
  inject: true
})
```

# 3. JS

## 3.1 èŠ‚æµï¼ˆthrottleï¼‰é˜²æŠ–ï¼ˆdebounceï¼‰

#### 3.1.1 å‰è¨€

 ä»¥ä¸‹åœºæ™¯å¾€å¾€ç”±äºäº‹ä»¶é¢‘ç¹è¢«è§¦å‘ï¼Œå› è€Œé¢‘ç¹æ‰§è¡ŒDOMæ“ä½œã€èµ„æºåŠ è½½ç­‰é‡è¡Œä¸ºï¼Œå¯¼è‡´UIåœé¡¿ç”šè‡³æµè§ˆå™¨å´©æºƒã€‚

1. windowå¯¹è±¡çš„resizeã€scrolläº‹ä»¶

2. æ‹–æ‹½æ—¶çš„mousemoveäº‹ä»¶

3. å°„å‡»æ¸¸æˆä¸­çš„mousedownã€keydownäº‹ä»¶

4. æ–‡å­—è¾“å…¥ã€è‡ªåŠ¨å®Œæˆçš„keyupäº‹ä»¶

 å®é™…ä¸Šå¯¹äºwindowçš„resizeäº‹ä»¶ï¼Œå®é™…éœ€æ±‚å¤§å¤šä¸ºåœæ­¢æ”¹å˜å¤§å°næ¯«ç§’åæ‰§è¡Œåç»­å¤„ç†ï¼›è€Œå…¶ä»–äº‹ä»¶å¤§å¤šçš„éœ€æ±‚æ˜¯ä»¥ä¸€å®šçš„é¢‘ç‡æ‰§è¡Œåç»­å¤„ç†ã€‚é’ˆå¯¹è¿™ä¸¤ç§éœ€æ±‚å°±å‡ºç°äº†debounceå’Œthrottleä¸¤ç§è§£å†³åŠæ³•ã€‚

#### 3.1.2 é˜²æŠ–(Debounce)

**1.å®šä¹‰**

å¦‚æœç”¨æ‰‹æŒ‡ä¸€ç›´æŒ‰ä½ä¸€ä¸ªå¼¹ç°§ï¼Œå®ƒå°†ä¸ä¼šå¼¹èµ·ç›´åˆ°ä½ æ¾æ‰‹ä¸ºæ­¢ã€‚

ä¹Ÿå°±æ˜¯è¯´å½“è°ƒç”¨åŠ¨ä½œnæ¯«ç§’åï¼Œæ‰ä¼šæ‰§è¡Œè¯¥åŠ¨ä½œï¼Œè‹¥åœ¨è¿™næ¯«ç§’å†…åˆè°ƒç”¨æ­¤åŠ¨ä½œåˆ™å°†é‡æ–°è®¡ç®—æ‰§è¡Œæ—¶é—´ã€‚

**2.æ¥å£å®šä¹‰ï¼š**

```js
/**
* ç©ºé—²æ§åˆ¶ è¿”å›å‡½æ•°è¿ç»­è°ƒç”¨æ—¶ï¼Œç©ºé—²æ—¶é—´å¿…é¡»å¤§äºæˆ–ç­‰äº idleï¼Œaction æ‰ä¼šæ‰§è¡Œ
* @param idle   {number}    ç©ºé—²æ—¶é—´ï¼Œå•ä½æ¯«ç§’
* @param action {function}  è¯·æ±‚å…³è”å‡½æ•°ï¼Œå®é™…åº”ç”¨éœ€è¦è°ƒç”¨çš„å‡½æ•°
* @return {function}    è¿”å›å®¢æˆ·è°ƒç”¨å‡½æ•°
*/
debounce(idle,action)
```

**3.ç®€å•å®ç°**

```js
var debounce = function(idle, action){
  var last
  return function(){
    var ctx = this, args = arguments
    clearTimeout(last)
    last = setTimeout(function(){
        action.apply(ctx, args)
    }, idle)
  }
}
```

#### **3.1.3 èŠ‚æµ(throttle)**

**1.å®šä¹‰**

å¦‚æœå°†æ°´é¾™å¤´æ‹§ç´§ç›´åˆ°æ°´æ˜¯ä»¥æ°´æ»´çš„å½¢å¼æµå‡ºï¼Œé‚£ä½ ä¼šå‘ç°æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œå°±ä¼šæœ‰ä¸€æ»´æ°´æµå‡ºã€‚ä¹Ÿå°±æ˜¯ä¼šè¯´é¢„å…ˆè®¾å®šä¸€ä¸ªæ‰§è¡Œå‘¨æœŸï¼Œå½“è°ƒç”¨åŠ¨ä½œçš„æ—¶åˆ»å¤§äºç­‰äºæ‰§è¡Œå‘¨æœŸåˆ™æ‰§è¡Œè¯¥åŠ¨ä½œï¼Œç„¶åè¿›å…¥ä¸‹ä¸€ä¸ªæ–°å‘¨æœŸã€‚

**2.æ¥å£å®šä¹‰**

```js
/**
* é¢‘ç‡æ§åˆ¶ è¿”å›å‡½æ•°è¿ç»­è°ƒç”¨æ—¶ï¼Œaction æ‰§è¡Œé¢‘ç‡é™å®šä¸º æ¬¡ / delay
* @param delay  {number}    å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½æ¯«ç§’
* @param action {function}  è¯·æ±‚å…³è”å‡½æ•°ï¼Œå®é™…åº”ç”¨éœ€è¦è°ƒç”¨çš„å‡½æ•°
* @return {function}    è¿”å›å®¢æˆ·è°ƒç”¨å‡½æ•°
*/
throttle(delay,action)
```

**3.ç®€å•å®ç°**

```js
var throttle = function(delay, action){
  var last = 0return function(){
    var curr = +new Date()
    if (curr - last > delay){
      action.apply(this, arguments)      last = curr     }
  }
}
```



#### **3.1.4 ç¤ºä¾‹**

ä½¿ç”¨å‰:

```js
//æ¨¡æ‹Ÿä¸€æ®µajaxè¯·æ±‚
functionajax(content) { 
    console.log( 'ajax request '+ content)
} 
let inputa = document.getElementById( 'unDebounce')
inputa.addEventListener( 'keyup', function(e) { ajax(e.target.value)})
```

è¿è¡Œæ•ˆæœ:

![img](http://5b0988e595225.cdn.sohucs.com/images/20180904/13efa80d2ffc425a8710906a1221a0e8.gif)

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åªè¦æŒ‰ä¸‹é”®ç›˜ï¼Œå°±ä¼šè§¦å‘è¿™æ¬¡ajaxè¯·æ±‚ã€‚ä¸ä»…ä»èµ„æºä¸Šæ¥è¯´æ˜¯å¾ˆæµªè´¹çš„è¡Œä¸ºï¼Œè€Œä¸”å®é™…åº”ç”¨ä¸­ï¼Œç”¨æˆ·ä¹Ÿæ˜¯è¾“å‡ºå®Œæ•´çš„å­—ç¬¦åï¼Œæ‰ä¼šè¯·æ±‚ã€‚

ä½¿ç”¨é˜²æŠ–å:

```js
//æ¨¡æ‹Ÿä¸€æ®µajaxè¯·æ±‚
function ajax(content) { 
    console.log( 'ajax request '+ content)
} 
function debounce(fun, delay) { 
    return function(args) { 
        let that = this 
        let _args = args 
        clearTimeout(fun.id) 
        fun.id = setTimeout( () => {
            fun.call(that, _args) }, delay) 
    }
} 
let inputb = document.getElementById( 'debounce') 
let debounceAjax = debounce(ajax, 500)
inputb.addEventListener( 'keyup', function(e) { debounceAjax(e.target.value) }) 
```

è¿è¡Œæ•ˆæœ:

![img](http://5b0988e595225.cdn.sohucs.com/images/20180904/ac2f4dfe56994d118d458897f53d047e.gif)

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åŠ å…¥äº†é˜²æŠ–ä»¥åï¼Œå½“ä½ åœ¨é¢‘ç¹çš„è¾“å…¥æ—¶ï¼Œå¹¶ä¸ä¼šå‘é€è¯·æ±‚ï¼Œåªæœ‰å½“ä½ åœ¨æŒ‡å®šé—´éš”å†…æ²¡æœ‰è¾“å…¥æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‡½æ•°ã€‚å¦‚æœåœæ­¢è¾“å…¥ä½†æ˜¯åœ¨æŒ‡å®šé—´éš”å†…åˆè¾“å…¥ï¼Œä¼šé‡æ–°è§¦å‘è®¡æ—¶ã€‚

ä½¿ç”¨èŠ‚æµå:

```js
function throttle(fun, delay) {
    let last, deferTimer 
    return function(args) { 
        let that = this 
        let _args = arguments
        let now = + newDate() 
        if(last && now < last + delay) {
            clearTimeout(deferTimer) 
            deferTimer = setTimeout( function() {
                last = now fun.apply(that, _args) 
            }, delay) 
        } else{
            last = now fun.apply(that,_args) 
        } 
    } 
} 
let throttleAjax = throttle(ajax, 1000) 
let inputc = document.getElementById( 'throttle')
inputc.addEventListener( 'keyup', function(e) {
    throttleAjax(e.target.value)
}) 
```

è¿è¡Œæ•ˆæœ:

![img](http://5b0988e595225.cdn.sohucs.com/images/20180904/3bd0ba7612e041b1a7324092da6faacb.gif)

#### **3.1.5 throttle-debounceæ’ä»¶**

```js
/*
Throttle execution of a function. Especially useful for rate limiting execution of handlers on events like resize and scroll.
Params:
delay: number â€“ A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
noTrailing: boolean â€“ Optional, defaults to false. If noTrailing is true, callback will only execute every delay milliseconds while the throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time after the last throttled-function call. (After the throttled-function has not been called for delay milliseconds, the internal counter is reset).
callback: Function â€“ A function to be executed after delay milliseconds. The this context and all arguments are passed through, as-is, to callback when the throttled-function is executed.
debounceMode: boolean â€“ If debounceMode is true (at begin), schedule clear to execute after delay ms. If debounceMode is false (at end), schedule callback to execute after delay ms.
Returns:
A new, throttled, function.
*/
function throttle (delay, noTrailing, callback, debounceMode) 
```

```js
/*
Debounce execution of a function. Debouncing, unlike throttling, guarantees that a function is only executed a single time, either at the very beginning of a series of calls, or at the very end.
Params:
delay: number â€“ A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
atBegin: boolean â€“ Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed delay milliseconds after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call. (After the throttled-function has not been called for delay milliseconds, the internal counter is reset).
callback: Function â€“ A function to be executed after delay milliseconds. The this context and all arguments are passed through, as-is, to callback when the debounced-function is executed.
Returns:
A new, debounced function.
*/
function debounce (delay, atBegin, callback)
```

## 3.2 åˆ¤æ–­è®¾å¤‡æ˜¯PCè¿˜æ˜¯æ‰‹æœºã€å¹³æ¿

```js
this.isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)
```

è¾“å‡ºçš„ç»“æœæ˜¯nullå³ä¸ºç”µè„‘

## 3.3 Window localStorageçš„ä½¿ç”¨

```JS
// å­˜å‚¨
localStorage.setItem("lastname", "Smith");
// æ£€ç´¢
document.getElementById("result").innerHTML = localStorage.getItem("lastname");
// åˆ é™¤
localStorage.removeItem("key");
```

## 3.4 è¿‡æ»¤å¯Œæ–‡æœ¬ä¸­çš„æ ‡ç­¾

```js
val.replace(/<[^>]+>/g, "")
```

## 3.5 åˆ é™¤æ•°ç»„çš„æŒ‡å®šå…ƒç´ 

```js
Arr.splice(Arr.findIndex(item=>item==value),1)
```

## 3.6  æ•°ç»„

### 3.6.1  Array.flat()--æ•°ç»„æ‰å¹³åŒ–

æ•°ç»„çš„æˆå‘˜æœ‰æ—¶è¿˜æ˜¯æ•°ç»„ï¼ŒArray.prototype.flat()ç”¨äºå°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³â€ï¼Œå˜æˆä¸€ç»´æ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯¹åŸæ•°æ®æ²¡æœ‰å½±å“ã€‚

```js
[1, 2, [3, 4]].flat()
// [1, 2, 3, 4]
```

ä¸Šé¢ä»£ç ä¸­ï¼ŒåŸæ•°ç»„çš„æˆå‘˜é‡Œé¢æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œflat()æ–¹æ³•å°†å­æ•°ç»„çš„æˆå‘˜å–å‡ºæ¥ï¼Œæ·»åŠ åœ¨åŸæ¥çš„ä½ç½®ã€‚

flat()é»˜è®¤åªä¼šâ€œæ‹‰å¹³â€ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦â€œæ‹‰å¹³â€å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œå¯ä»¥å°†flat()æ–¹æ³•çš„å‚æ•°å†™æˆä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ï¼Œé»˜è®¤ä¸º1ã€‚

```js
[1, 2, [3, [4, 5]]].flat()
// [1, 2, 3, [4, 5]]
[1, 2, [3, [4, 5]]].flat(2)
// [1, 2, 3, 4, 5]
```

ä¸Šé¢ä»£ç ä¸­ï¼Œflat()çš„å‚æ•°ä¸º2ï¼Œè¡¨ç¤ºè¦æ‹‰å¹³ä¸¤å±‚çš„åµŒå¥—æ•°ç»„ã€‚

å¦‚æœä¸ç®¡æœ‰å¤šå°‘å±‚åµŒå¥—ï¼Œéƒ½è¦è½¬æˆä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ç”¨Infinityå…³é”®å­—ä½œä¸ºå‚æ•°ã€‚

```js
[1, [2, [3]]].flat(Infinity)
// [1, 2, 3]
```

å¦‚æœåŸæ•°ç»„æœ‰ç©ºä½ï¼Œflat()æ–¹æ³•ä¼šè·³è¿‡ç©ºä½ã€‚

```js
[1, 2, , 4, 5].flat()
// [1, 2, 4, 5]
```

flatMap()æ–¹æ³•å¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œç›¸å½“äºæ‰§è¡ŒArray.prototype.map(),ç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œflat()æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ã€‚

```js
// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()
[2, 3, 4].flatMap((x) => [x, x * 2])
// [2, 4, 3, 6, 4, 8]
```

### 3.6.2Array erery()--æ•°ç»„æ£€æµ‹

every() æ–¹æ³•ç”¨äºæ£€æµ‹æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæŒ‡å®šæ¡ä»¶ï¼ˆé€šè¿‡å‡½æ•°æä¾›ï¼‰ã€‚

every() æ–¹æ³•ä½¿ç”¨æŒ‡å®šå‡½æ•°æ£€æµ‹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š

- å¦‚æœæ•°ç»„ä¸­æ£€æµ‹åˆ°æœ‰ä¸€ä¸ªå…ƒç´ ä¸æ»¡è¶³ï¼Œåˆ™æ•´ä¸ªè¡¨è¾¾å¼è¿”å› *false* ï¼Œä¸”å‰©ä½™çš„å…ƒç´ ä¸ä¼šå†è¿›è¡Œæ£€æµ‹ã€‚
- å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å› trueã€‚

**æ³¨æ„ï¼š** every() ä¸ä¼šå¯¹ç©ºæ•°ç»„è¿›è¡Œæ£€æµ‹ã€‚

**æ³¨æ„ï¼š** every() ä¸ä¼šæ”¹å˜åŸå§‹æ•°ç»„ã€‚

**è¯­æ³•ï¼šarray.every(function(currentValue,index,arr), thisValue)**

### 3.6.3 Array.concat(arr1,arr2...)--æ•°ç»„æ‹¼æ¥

concat() æ–¹æ³•ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚

concat() æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«å·²è¿æ¥æ•°ç»„çš„å€¼ã€‚

```js
var sedan = ["S60", "S90"];
var SUV = ["XC40", "XC60", "XC90"];
var wagon = ["V60", "V90", "V90CC"];
var Volvo = sedan.concat(SUV, wagon);
```

### 3.6.4  æ•°ç»„å…ƒç´ å‡ºç°æ¬¡æ•°è®¡ç®—

```js
Arr.map(item=>item.subject).reduce((prev,next)=>{
  prev[next] = (prev[next]+1)||1
  return prev
},{})
```

### 3.6.5 new Set()--æ•°ç»„å»é‡

```js
Array.form(new set(Arr))//æ–¹æ³•ä¸€
[...new set(Arr)]//æ–¹æ³•äºŒ
```

`Array.from()` æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹ã€‚

`set()`é›†åˆ,å’Œpythoné›†åˆç‰¹æ€§ä¸€æ ·,å…ƒç´ å”¯ä¸€ï¼Œæ˜¯ES6æ–°å¢çš„ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„ã€‚

### 3.6.6  æ•°ç»„æ¸…ç©ºçš„ä¸‰ç§æ–¹å¼

æ–¹å¼1ï¼Œsplice

```js
var ary = [1,2,3,4];
ary.splice(0,ary.length);
console.log(ary); // è¾“å‡º []ï¼Œç©ºæ•°ç»„ï¼Œå³è¢«æ¸…ç©ºäº†	
```

æ–¹å¼1ï¼Œsplice

è¿™ç§æ–¹å¼å¾ˆæœ‰æ„æ€ï¼Œå…¶å®ƒè¯­è¨€å¦‚Javaï¼Œå…¶æ•°ç»„çš„lengthæ˜¯åªè¯»çš„ï¼Œä¸èƒ½è¢«èµ‹å€¼ã€‚Javaä¸­ä¼šæŠ¥é”™ï¼Œç¼–è¯‘é€šä¸è¿‡ã€‚

```js
var ary = [1,2,3,4]; 
ary.length = 0; 
console.log(ary); // è¾“å‡º []ï¼Œç©ºæ•°ç»„ï¼Œå³è¢«æ¸…ç©ºäº†
```

æ–¹å¼3ï¼Œèµ‹å€¼ä¸º[]

```js
var ary = [1,2,3,4]; 
ary = []; // èµ‹å€¼ä¸ºä¸€ä¸ªç©ºæ•°ç»„ä»¥è¾¾åˆ°æ¸…ç©ºåŸæ•°ç»„
```

Extåº“Ext.CompositeElementLiteç±»çš„ [clear](http://docs.sencha.com/#method-Ext.CompositeElementLite-clear) æ–¹æ³•ä½¿ç”¨è¿™ç§æ–¹å¼æ¸…ç©ºã€‚

æ–¹å¼1ï¼Œ2 ä¿ç•™äº†æ•°ç»„å…¶å®ƒå±æ€§ï¼Œæ–¹å¼3 åˆ™æ˜¯é‡æ–°å»ºç«‹ä¸ªå¯¹è±¡

---

## 3.7 æ ‘å½¢ç»“æ„æ‰å¹³åŒ–

```js
 DelayeringTree(tree){
    let arr = []
    for(let i of tree){
      let item = this.CloneDeep(i)
      delete item['children']
      arr.push(item)
      if(i.children){
        arr.push(...this.DelayeringTree(i.children))
      }
    }
    return arr
  }
```

## 3.8 æ•°ç»„ä¸å­—ç¬¦ä¸²äº’ç›¸è½¬æ¢

æ•°ç»„è½¬å­—ç¬¦ä¸²

1.toString

2.Arr.join('-') è¾“å‡ºï¼š"a-b-c"

å­—ç¬¦ä¸²è½¬æ•°ç»„

split(): 

1."a,b,c".split(',') è¾“å‡ºï¼š"[a,b,c]"

2."abc".split('') è¾“å‡ºåŒä¸Š

## 3.9  å¯¹è±¡

### 3.9.1 hasOwnProperty()--æ£€æŸ¥å¯¹è±¡æ˜¯å¦æœ‰è¯¥å±æ€§

`hasOwnProperty()`å‡½æ•°ç”¨äºæŒ‡ç¤ºä¸€ä¸ªå¯¹è±¡è‡ªèº«(ä¸åŒ…æ‹¬åŸå‹é“¾)æ˜¯å¦å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§ã€‚å¦‚æœæœ‰ï¼Œè¿”å›`true`ï¼Œå¦åˆ™è¿”å›`false`ã€‚

è¯¥æ–¹æ³•å±äº`Object`å¯¹è±¡ï¼Œç”±äºæ‰€æœ‰çš„å¯¹è±¡éƒ½"ç»§æ‰¿"äº†Objectçš„å¯¹è±¡å®ä¾‹ï¼Œå› æ­¤å‡ ä¹æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡éƒ½å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ã€‚

IE 5.5+ã€FireFoxã€Chromeã€Safariã€Operaç­‰ä¸»æµæµè§ˆå™¨å‡æ”¯æŒè¯¥å‡½æ•°ã€‚

**è¯­æ³•**

```
object.hasOwnProperty( propertyName )
```



---

## 3.10 input numberç±»å‹è¿”å›çš„æ•°æ®ä¸ºString

åœ¨inputä¸­ä¸è®ºä½ æŒ‡å®šçš„æ˜¯ä¸æ˜¯numberç±»å‹ï¼Œè·å–åˆ°çš„æ•°æ®éƒ½æ˜¯Stringç±»å‹ï¼Œä¸è¿‡åœ¨vueä¸­å¯ä»¥ä½¿ç”¨v-model.numberå°†æ•°æ®è½¬ä¸ºnumberç±»å‹ã€‚

## 3.11 å¯¹è±¡æ•°ç»„æ ¹æ®æŸä¸€é”®å€¼æ’åº

```js
sortListByKey(Arr, key) {
  Arr = Arr.sort((start, end) => {
    if(start[key] > end[key])
      return 1;
    else if(start[key] < end[key])
      return -1;
    else
      return 0;

  })
},
```

------

## 3.12 break,continueå’Œreturnçš„ç”¨æ³•åŠåŒºåˆ«

1ã€breakï¼šæ˜¯ç«‹å³ç»“æŸè¯­å¥ï¼Œå¹¶è·³å‡ºè¯­å¥ï¼Œè¿›è¡Œä¸‹ä¸ªè¯­å¥æ‰§è¡Œã€‚

2ã€continueï¼šæ˜¯åœæ­¢å½“å‰è¯­å¥ï¼Œå¹¶ä»å¤´æ‰§è¡Œè¯¥è¯­å¥ã€‚

3ã€returnï¼šåœæ­¢å‡½æ•°ã€‚

4ã€ä½¿ç”¨çš„è¯­å¥ç¯å¢ƒä¸ä¸€æ ·ï¼Œbreakå’Œcontinueæ˜¯ç”¨åœ¨å¾ªç¯æˆ–switchè¯­å¥ä¸­ï¼Œreturnæ˜¯ç”¨åœ¨å‡½æ•°è¯­å¥ä¸­ã€‚

---

## 3.13 æ—¶é—´å‡½æ•°

### 3.13.1 Date.setDate() è®¾ç½®ä¸€ä¸ªæœˆçš„æŸä¸€å¤©

```js
var d = new Date("July 21, 1983 01:15:00");
d.setDate(15);
```

 è¾“å‡ºç»“æœ:

```
Fri Jul 15 1983 01:15:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

## 3.14 find(), findIndex(),indexofçš„åŒºåˆ«

find()æ–¹æ³•å’ŒfindIndex()åˆ†åˆ«ç”¨äºæ‰¾å‡ºæ•°ç»„ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ å’Œå…ƒç´ ä¸‹æ ‡ï¼Œä¸é€‚ç”¨äºå­—ç¬¦ä¸²ï¼›

indexOf(value, index)ç”¨äºæ£€æµ‹å­—ç¬¦ä¸²æˆ–æ•°ç»„ä¸­æŸä¸€å…ƒç´ çš„é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œindexè§„å®šå¼€å§‹æ£€æµ‹çš„ä½ç½®ï¼›

## 3.15 encodeURI()ï¼ŒencodeURIComponent()ï¼Œescape()åŒºåˆ«

**encodeURI()å‡½æ•°ï¼š**

encodeURI() å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²ä½œä¸º URI è¿›è¡Œç¼–ç ã€‚è¯¥æ–¹æ³•ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç ï¼š - _ . ! ~ * ' ( ) ã€‚

è¯¥æ–¹æ³•çš„ç›®çš„æ˜¯å¯¹ URI è¿›è¡Œå®Œæ•´çš„ç¼–ç ï¼Œå› æ­¤å¯¹ä»¥ä¸‹åœ¨ URI ä¸­å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„ ASCII æ ‡ç‚¹ç¬¦å·ï¼ŒencodeURI() å‡½æ•°æ˜¯ä¸ä¼šè¿›è¡Œè½¬ä¹‰çš„ï¼š;/?:@&=+$,#

**encodeURIComponent() å‡½æ•°ï¼š**

encodeURIComponent() å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²ä½œä¸º URI ç»„ä»¶è¿›è¡Œç¼–ç ã€‚è¯¥æ–¹æ³•ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç ï¼š - _ . ! ~ * ' ( ) ã€‚å…¶ä»–å­—ç¬¦ï¼ˆæ¯”å¦‚ ï¼š;/?:@&=+$,# è¿™äº›ç”¨äºåˆ†éš” URI ç»„ä»¶çš„æ ‡ç‚¹ç¬¦å·ï¼‰ï¼Œéƒ½æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªåå…­è¿›åˆ¶çš„è½¬ä¹‰åºåˆ—æ›¿æ¢çš„ã€‚

**escape()å‡½æ•°ï¼ˆå·²å¼ƒç”¨ï¼‰ï¼š**

escape() å‡½æ•°å¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æ‰€æœ‰çš„è®¡ç®—æœºä¸Šè¯»å–è¯¥å­—ç¬¦ä¸²ã€‚è¯¥æ–¹æ³•ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹ä¸‹é¢è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç ï¼š - _ . ! ~ * ' ( ) ã€‚å…¶ä»–æ‰€æœ‰çš„å­—ç¬¦éƒ½ä¼šè¢«è½¬ä¹‰åºåˆ—æ›¿æ¢ã€‚

 **æ€»ç»“ï¼š**

 é€šè¿‡å¯¹ä¸‰ä¸ªå‡½æ•°çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼šescape()é™¤äº† ASCII å­—æ¯ã€æ•°å­—å’Œç‰¹å®šçš„ç¬¦å·å¤–ï¼Œå¯¹ä¼ è¿›æ¥çš„å­—ç¬¦ä¸²å…¨éƒ¨è¿›è¡Œè½¬ä¹‰ç¼–ç ï¼Œå› æ­¤å¦‚æœæƒ³å¯¹URLç¼–ç ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨æ­¤æ–¹æ³•ã€‚è€ŒencodeURI() ç”¨äºç¼–ç æ•´ä¸ªURI,å› ä¸ºURIä¸­çš„åˆæ³•å­—ç¬¦éƒ½ä¸ä¼šè¢«ç¼–ç è½¬æ¢ã€‚encodeURIComponentæ–¹æ³•åœ¨ç¼–ç å•ä¸ªURIComponentï¼ˆæŒ‡è¯·æ±‚å‚ æ•°ï¼‰åº”å½“æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå®ƒå¯ä»¥å°†å‚æ•°ä¸­çš„ä¸­æ–‡ã€ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œè€Œä¸ä¼šå½±å“æ•´ä¸ªURLã€‚

## 3.16 å°†å­—ç¬¦ä¸²ç”¨ä½œä»£ç æ‰§è¡Œ-- eval()

`eval()` å‡½æ•°ä¼šå°†ä¼ å…¥çš„å­—ç¬¦ä¸²å½“åš JavaScript ä»£ç è¿›è¡Œæ‰§è¡Œï¼Œè¿”å›å­—ç¬¦ä¸²ä¸­ä»£ç çš„è¿”å›å€¼ã€‚å¦‚æœè¿”å›å€¼ä¸ºç©ºï¼Œåˆ™è¿”å› `undefined`ã€‚å¦‚æœ `eval()` çš„å‚æ•°ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œ `eval()` ä¼šå°†å‚æ•°åŸå°ä¸åŠ¨åœ°è¿”å›ã€‚

evalæ˜¯å­˜åœ¨å®‰å…¨éšæ‚£çš„ï¼Œä¸æ¨èä½¿ç”¨ï¼

```js
eval(string)
```

## 3.17 ç«‹å³æ‰§è¡Œå‡½æ•°ä¸å•ä¾‹æ¨¡å¼

ç«‹å³æ‰§è¡Œå‡½æ•°å¸¸ç”¨äºç¬¬ä¸‰æ–¹åº“ï¼Œå¥½å¤„åœ¨äºéš”ç¦»ä½œç”¨åŸŸï¼Œä»»ä½•ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“éƒ½ä¼šå­˜åœ¨å¤§é‡çš„å˜é‡å’Œå‡½æ•°ï¼Œä¸ºäº†é¿å…å˜é‡æ±¡æŸ“ï¼ˆå‘½åå†²çªï¼‰ï¼Œå¼€å‘è€…ä»¬æƒ³åˆ°çš„è§£å†³åŠæ³•å°±æ˜¯ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°ã€‚

1.ä»€ä¹ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼ˆIIFEï¼‰

åœ¨äº†è§£ç«‹å³æ‰§è¡Œå‡½æ•°ä¹‹å‰å…ˆæ˜ç¡®ä¸€ä¸‹å‡½æ•°å£°æ˜ã€å‡½æ•°è¡¨è¾¾å¼åŠåŒ¿åå‡½æ•°çš„å½¢å¼ï¼Œå¦‚ä¸‹å›¾ï¼š

![img](image/20181224114050294.png)

æ¥ä¸‹æ¥çœ‹ç«‹å³æ‰§è¡Œå‡½æ•°çš„ä¸¤ç§å¸¸è§å½¢å¼ï¼š`( function(){â€¦} )()`å’Œ`( function (){â€¦} () )`ï¼Œä¸€ä¸ªæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°åŒ…è£¹åœ¨ä¸€ä¸ªæ‹¬å·è¿ç®—ç¬¦ä¸­ï¼Œåé¢å†è·Ÿä¸€ä¸ªå°æ‹¬å·ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°åé¢è·Ÿä¸€ä¸ªå°æ‹¬å·ï¼Œç„¶åæ•´ä¸ªåŒ…è£¹åœ¨ä¸€ä¸ªæ‹¬å·è¿ç®—ç¬¦ä¸­ï¼Œè¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚è¦æƒ³ç«‹å³æ‰§è¡Œå‡½æ•°èƒ½åšåˆ°ç«‹å³æ‰§è¡Œï¼Œè¦æ³¨æ„ä¸¤ç‚¹ï¼Œä¸€æ˜¯å‡½æ•°ä½“åé¢è¦æœ‰å°æ‹¬å·()ï¼ŒäºŒæ˜¯å‡½æ•°ä½“å¿…é¡»æ˜¯å‡½æ•°è¡¨è¾¾å¼è€Œä¸èƒ½æ˜¯å‡½æ•°å£°æ˜ã€‚å…ˆçœ‹ä¸‹å›¾ï¼š

![img](image/20181224114050315.png)

ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œé™¤äº†ä½¿ç”¨()è¿ç®—ç¬¦ä¹‹å¤–ï¼Œï¼ï¼Œ+ï¼Œ-ï¼Œ=ç­‰è¿ç®—ç¬¦éƒ½èƒ½èµ·åˆ°ç«‹å³æ‰§è¡Œçš„ä½œç”¨ã€‚è¿™äº›è¿ç®—ç¬¦çš„ä½œç”¨å°±æ˜¯å°†åŒ¿åå‡½æ•°æˆ–å‡½æ•°å£°æ˜è½¬æ¢ä¸ºå‡½æ•°è¡¨è¾¾å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå‡½æ•°ä½“æ˜¯å‡½æ•°å£°æ˜çš„å½¢å¼ï¼Œä½¿ç”¨è¿ç®—ç¬¦å°†å…¶è½¬æ¢ä¸ºå‡½æ•°è¡¨è¾¾å¼ä¹‹åå°±å¯è¾¾åˆ°ç«‹å³æ‰§è¡Œæ•ˆæœã€‚

2.ä½¿ç”¨ç«‹å³æ‰§è¡Œå‡½æ•°çš„å¥½å¤„

é€šè¿‡å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªâ€œç§æœ‰â€çš„å‘½åç©ºé—´ï¼Œè¯¥å‘½åç©ºé—´çš„å˜é‡å’Œæ–¹æ³•ï¼Œä¸ä¼šç ´åæ±¡æŸ“å…¨å±€çš„å‘½åç©ºé—´ã€‚æ­¤æ—¶è‹¥æ˜¯æƒ³è®¿é—®å…¨å±€å¯¹è±¡ï¼Œå°†å…¨å±€å¯¹è±¡ä»¥å‚æ•°å½¢å¼ä¼ è¿›å»å³å¯ï¼Œå¦‚jQueryä»£ç ç»“æ„:

![img](image/20181224114050352.png)

å…¶ä¸­windowå³æ˜¯å…¨å±€å¯¹è±¡ã€‚ç»™å…¶ä¼ å…¥å‚æ•°è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ç¼©çŸ­æŸ¥è¯¢æ—¶çš„ä½œç”¨åŸŸé“¾ã€‚ä½œç”¨åŸŸéš”ç¦»éå¸¸é‡è¦ï¼Œæ˜¯ä¸€ä¸ªJSæ¡†æ¶å¿…é¡»æ”¯æŒçš„åŠŸèƒ½ï¼ŒjQueryè¢«åº”ç”¨åœ¨æˆåƒä¸Šä¸‡çš„JavaScriptç¨‹åºä¸­ï¼Œå¿…é¡»ç¡®ä¿jQueryåˆ›å»ºçš„å˜é‡ä¸èƒ½å’Œå¯¼å…¥ä»–çš„ç¨‹åºæ‰€ä½¿ç”¨çš„å˜é‡å‘ç”Ÿå†²çªã€‚

å•ä¾‹æ¨¡å¼çš„å®ç°ï¼š

```js
var car = {
    speed:0,
    start:function(){ this.speed=40; },
    getspeed:function(){ return this.speed; }
};
car.start();
console.log(car.getspeed()); //print 40
```

è¿™ä¸ªå¯¹è±¡æœ‰å…¶æˆå‘˜å˜é‡`spee`åŠæˆå‘˜å‡½æ•°`start`å’Œ`getspeed`ï¼Œä½†æ˜¯å®ƒçš„æˆå‘˜å˜é‡æ²¡æœ‰ç§æœ‰åŒ–ï¼ŒåŒæ—¶å®ƒä¹Ÿæ²¡æœ‰åŠæ³•è¢«ç»§æ‰¿ã€‚è¦å®ç°å¯¹è±¡çš„ç»§æ‰¿ï¼Œä½ å¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°å’ŒåŸå‹ç»§æ‰¿ã€‚ä½†æ€ä¹ˆæ‰èƒ½å°†æˆå‘˜å˜é‡ç§æœ‰åŒ–æ¥å®ç°å¯¹è±¡çš„å°è£…å‘¢ï¼ˆè€Œä¸”æœ‰æ—¶å€™æˆ‘ä»¬ä¹Ÿä¸æƒ³é‚£ä¹ˆéº»çƒ¦ä½¿ç”¨åŸå‹ï¼‰ï¼Ÿ

```js
function car() {
    var speed = 0;
    return { //è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡
        start:function() {
            speed = 50;
        },
        getspeed:function () {
         return speed;
        }
    }
}
 
var car1 = car();
car1.start();
console.log(car1.getspeed()); //print 50
```

ç­”æ¡ˆå°±æ˜¯ä½¿ç”¨é—­åŒ…ï¼Œæœ‰äº†é—­åŒ…å‡½æ•°æ¥å¸®ä½ åˆ›å»º`car`å¯¹è±¡ï¼Œè¿™ä¸ªå‡½æ•°å°±ç±»ä¼¼äºå·¥å‚æ–¹æ³•ï¼Œå®ƒå¯ä»¥æ ¹æ®ä½ çš„éœ€è¦åˆ›å»ºå¤šä¸ªä¸åŒçš„å¯¹è±¡ã€‚ä¸è¿‡å¼€å‘çš„æ—¶å€™ç»å¸¸é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œå°±æ˜¯æˆ‘ä»¬å¸Œæœ›**å¯¹è±¡åªæœ‰ä¸€ä»½**ï¼Œæ¯”å¦‚jQueryåº“çš„å¯¹è±¡ï¼Œå®ƒå¿…é¡»ç¡®ä¿æ•´ä¸ªç¨‹åºåªæœ‰ä¸€ä»½ï¼Œå¤šäº†ä¹Ÿæ²¡æœ‰ã€‚åœ¨åç«¯å¼€å‘æ¨¡å¼ä¸­ï¼Œè¿™å«**å•ä¾‹æ¨¡å¼**ï¼Œå¯ä»¥é€šè¿‡ç§æœ‰åŒ–æ„é€ å‡½æ•°æ¥å®ç°ï¼Œé‚£ä¹ˆåœ¨jsé‡Œå‘¢ï¼Ÿ

æ—¢ç„¶å‡½æ•°æ²¡æ³•ç§æœ‰åŒ–ï¼Œé‚£ä¹ˆå”¯ä¸€çš„åŠæ³•å°±æ˜¯è®©è¿™ä¸ªå·¥å‚æ–¹æ³•èƒ½ä¸”åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚ä¸èƒ½å¤šæ¬¡è°ƒç”¨ï¼Œé‚£è¿™ä¸ªå‡½æ•°ä¸€å®šè¦æ˜¯åŒ¿åå‡½æ•°ï¼›è€Œä¸”åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œé‚£å°±å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™ç«‹é©¬æ‰§è¡Œã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°ç«‹å³æ‰§è¡Œå‡½æ•°äº†ï¼š

```js
var car = (function () {
    var speed = 0;
    return {
        start:function () {
           speed=60;
        },
        getspeed:function () {
           return speed;
        }
    }
})();
 
car.start();
console.log(car.getspeed()); //print 60  
```

è¿™é‡Œçš„carå·²ç»ä¸æ˜¯ä¸€ä¸ªå‡½æ•°äº†ï¼Œè€Œæ˜¯è¿™ä¸ªåŒ¿åçš„å·¥å‚æ–¹æ³•æ‰§è¡Œå®Œè¿”å›çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ‹¥`start`å’Œ`getspeed`ä¸¤ä¸ªæˆå‘˜å‡½æ•°ï¼Œè€Œè¿™ä¸¤ä¸ªå‡½æ•°æ‰€éœ€è¦è®¿é—®çš„`speed`å˜é‡å¯¹å¤–ä¸å¯è§ã€‚åŒæ—¶ä½ æ— æ³•å†æ¬¡è°ƒç”¨è¿™ä¸ªåŒ¿åçš„å·¥å‚æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªç›¸åŒçš„å¯¹è±¡ã€‚ä¸€ä¸ªå•ä¾‹çš„ï¼Œæœ‰ç€ç§æœ‰æˆå‘˜çš„å¯¹è±¡å°±è¿™ä¹ˆå»ºå¥½äº†ã€‚

## 3.18 (0, fn)(...)å†™æ³•çš„ä½œç”¨

```cpp
console.log((1, 2)); // ç»“æœä¸º2
console.log((a = b = 3, c = 4)); // ç»“æœä¸º4
```

å¯ä»¥çœ‹å‡º**é€—å·æ“ä½œç¬¦** å¯¹å®ƒçš„æ¯ä¸ªæ“ä½œå¯¹è±¡æ±‚å€¼ï¼ˆä»å·¦è‡³å³ï¼‰ï¼Œç„¶åè¿”å›**æœ€åä¸€ä¸ªæ“ä½œå¯¹è±¡çš„å€¼**ã€‚

```js
function test() {
  var x = 2, y = 4;
  console.log(eval('x + y'));  // ç›´æ¥è°ƒç”¨ï¼Œä½¿ç”¨æœ¬åœ°ä½œç”¨åŸŸï¼Œç»“æœæ˜¯ 6
  var geval = eval; // ç­‰ä»·äºåœ¨å…¨å±€ä½œç”¨åŸŸè°ƒç”¨
  console.log(geval('x + y')); // é—´æ¥è°ƒç”¨ï¼Œä½¿ç”¨å…¨å±€ä½œç”¨åŸŸï¼Œthrows ReferenceError å› ä¸º`x`æœªå®šä¹‰
  (0, eval)('x + y'); // å¦ä¸€ä¸ªé—´æ¥è°ƒç”¨çš„ä¾‹å­
}
```

è¿™é‡Œçš„` (0, eval)('x + y');`æ˜¯å¯¹evalçš„é—´æ¥è°ƒç”¨ï¼Œä¸”ä½¿ç”¨çš„æ˜¯å…¨å±€ä½œç”¨åŸŸ

```js
var a = {
  foo: function() {
    console.log(this === window);
  }
};

a.foo(); // Returns 'false' in console
(0, a.foo)(); // Returns 'true' in console
```

è¿™æ—¶å€™ `this`çš„æ˜¯å…¨å±€å¯¹è±¡ `window`, æ‰€ä»¥æ‰“å°ç»“æœä¸º `true`ï¼Œæ‰€ä»¥è¯¥å†™æ³•çš„ä½œç”¨å°±æ˜¯å°†å‡½æ•°çš„ä½œç”¨åŸŸæå‡è‡³å…¨å±€ä½œç”¨åŸŸã€‚

## 3.19 a=b=1å’Œa=1,b=1çš„åŒºåˆ«

```js
function test(){var a = b = 1}
test()//è°ƒç”¨
console.log(b, a)//bä¸º1ï¼Œaä¸ºundefinedï¼ˆæŠ¥é”™ï¼‰
```

ç»“è®ºï¼ša = b = 1çš„å†™æ³•ä¼šå¯¼è‡´bå˜ä¸ºå…¨å±€å˜é‡ï¼Œè€Œa=1,b=1åˆ™æ˜¯æ ‡å‡†çš„å†™æ³•ï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ä¸æ¨èa = b = 1çš„å†™æ³•ï¼›å…¶æ¬¡a = b  = c = 1åˆ™æ˜¯å°†bï¼Œcå˜ä¸ºå…¨å±€å˜é‡ã€‚å½“ç„¶ï¼Œè¿™è¦åœ¨å±€éƒ¨ä½œç”¨åŸŸï¼ˆtestï¼‰è¢«è°ƒç”¨ä¹‹åæ‰ä¼šå‘ç”Ÿå˜åŒ–

# 4. CSS

## 4.1 /deep/ æ·±åº¦é€‰æ‹©å™¨

éœ€æ±‚ï¼šåœ¨æŸä¸€ç»„ä»¶ä¸­æƒ³è¦ä¿®æ”¹å…¨å±€ç»„ä»¶çš„æ ·å¼ï¼ˆå…¨å±€æ ·å¼ï¼‰ï¼Œä½†åˆä¸æƒ³ç›´æ¥ä¿®æ”¹å…¨å±€ç»„ä»¶çš„æ ·å¼ï¼Œè€Œæ˜¯ä»…åœ¨å½“å‰ç»„ä»¶å¼•ç”¨æ—¶æ›´æ”¹ï¼Œå¦‚ï¼šä¸€ç»„ä»¶è¦æ›´æ”¹elementå¯¹è¯æ¡†çš„å†…å®¹ï¼ˆ.el-dialog .el-dialog__bodyï¼‰çš„é«˜åº¦ï¼Œä½†åˆä¸èƒ½å½±å“åˆ°å…¶å®ƒç»„ä»¶çš„æ­£å¸¸ä½¿ç”¨ã€‚è¿™ç§æ—¶å€™å°±éœ€è¦ç”¨åˆ°/deep/.

```css
/deep/ .el-dialog .el-dialog__body{
  max-height: 71vh;
}
```

æ³¨æ„æ˜¯åœ¨scopeé‡Œæ›´æ”¹ã€‚

## 4.2 Flex å¸ƒå±€

https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html

## 4.3 éšè—input numberçš„ç®­å¤´

```javascript
.input_number{
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
    }
    input[type="number"]{
        -moz-appearance: textfield;
    }
}
```

## 4.4 Vueå¼•å…¥Scsså…¨å±€å˜é‡

åœ¨vue.config.jsé…ç½®å¦‚ä¸‹ï¼š

```js
css: {
    loaderOptions: {
      //scsså¼•å…¥å…¨å±€å˜é‡
      // ä¸åŒ sass-loader ç‰ˆæœ¬å¯¹åº”å…³é”®å­—ï¼Œ v8-: data   v8: prependData   v10+: additionalData
      sass: {
        data: `@import "@/style/variables.scss";`
      },
      scss: {
        data: `@import "@/style/variables.scss";`
      }
    }
  },
```



------

# 5. Elements

## 5.1 el-date-pickeré€‰æ‹©æ•°æ®åæ— æ³•æ›´æ–°å›æ˜¾æ•°æ®

#### 5.1.1 é—®é¢˜æè¿°ï¼š

å¦‚ä¸‹ä»£ç ï¼Œåœ¨ç‚¹å‡»é€‰æ‹©æ–°çš„æ—¥æœŸä¹‹åï¼Œel-date-pickeræ˜¾ç¤ºçš„è¿˜æ˜¯åŸæ¥çš„æ—¥æœŸï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰è§¦å‘changeäº‹ä»¶ã€‚

```vue
<el-date-picker
  v-model="row.dateRange"
  @change="handleDateChange($event,row)"
  value-format="yyyy-MM-dd"
  type="daterange"
  range-separator="â€”"
  :clearable="false"
  :picker-options="pickerOptions"
  start-placeholder="å¼€å§‹æ—¥æœŸ"
  end-placeholder="ç»“æŸæ—¥æœŸ">
</el-date-picker>
```

```js
/**
 * æ—¥æœŸæ•°æ®å­˜å‚¨å¤„ç†
 * @param row
 */
handleDateChange(data,row){
  this.$set(row,'timeNames',row.dateRange.toString())
  this.handleItemValueChange(row,'timeNames')
},
```



#### 5.1.2 åŸå› ï¼š

é¦–å…ˆv-modelç»‘å®šçš„æ˜¯å¯¹è±¡é‡Œçš„ä¸€ä¸ªå€¼ï¼Œè€Œè¿™ä¸€ä¸ªå€¼åœ¨ä¹‹å‰æœ‰è¢«é‡æ–°èµ‹å€¼è¿‡ï¼Œè€Œèµ‹å€¼çš„æ–¹å¼åªæ˜¯ç®€å•çš„ç­‰å·èµ‹å€¼ã€‚

```js
for (let item of planMode.detailList) {
  if (item.timeNames) item['dateRange'] = item.timeNames.split(',')
}
```

#### 5.1.3 è§£å†³æ–¹æ³•ï¼š

æŠŠç­‰å·èµ‹å€¼æ”¹æˆ$setçš„èµ‹å€¼æ–¹å¼ï¼Œå…·ä½“åŸç†ä¸æ˜ï¼Œæœ‰å¾…è¡¥å……ï¼

```js
for (let item of planMode.detailList) {
  if (item.timeNames) this.$set(item,'dateRange',item.timeNames.split(','))
}
```



------

## 5.2 Formè¡¨å•ä¸­å›è½¦äº‹ä»¶å‡ºç°é¡µé¢åˆ·æ–°é—®é¢˜

### 5.2.1  é—®é¢˜æè¿°ï¼š

åœ¨ç»™è¾“å…¥æ¡†æ·»åŠ å›è½¦äº‹ä»¶æ—¶ï¼Œå‘ç°ä¸€æŒ‰å›è½¦ï¼Œé¡µé¢å°±åˆ·æ–°äº†ã€‚

### 5.2.2 åŸå› ï¼š

ç”±äºå½“formè¡¨å•åªæœ‰ä¸€ä¸ªæ–‡æœ¬æ¡†æ—¶ï¼ŒæŒ‰ä¸‹å›è½¦å°†ä¼šè§¦å‘è¡¨å•çš„æäº¤äº‹ä»¶ï¼Œ å¯¼è‡´é¡µé¢çš„åˆ·æ–°ã€‚

### 5.2.3 è§£å†³æ–¹æ¡ˆï¼š

åœ¨el-from åŠ ä¸Š @submit.native.prevent

---



# 6.DOS

## 6.1 Windowsåˆ‡æ¢ç›˜ç¬¦

cd /d  x:    xå¯ä»¥æ˜¯ä½ è¦åˆ‡æ¢çš„ä»»æ„ç›˜ç¬¦

# 7.æµè§ˆå™¨å…¼å®¹æ€§

## 7.1ç«ç‹æµè§ˆå™¨

### 7.1.1 Firefoxä¸‹ä»£ç è§¦å‘aæ ‡ç­¾çš„clickäº‹ä»¶æ— æ•ˆ

ä»¥ä¸‹ä»£ç åœ¨ç«ç‹52ç‰ˆæœ¬ä¸­å®æµ‹æ— æ•ˆï¼Œåœ¨94ç‰ˆæœ¬ä¸­å¯è¡Œã€‚

```js
let ela = document.createElement('a')
ela.href = url
ela.target = '_blank'
fname && (ela.download = fname)
ela.click();
```

åŸå› ï¼š

> Before Firefox 5, `click()` is only defined on buttons and inputs, and has no effect on text and file inputs.

â€‹																																							[â€”â€”å¼•è‡ªMDN](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement/click)

è§£å†³æ–¹æ¡ˆï¼š

```js
let ela = document.createElement('a')
ela.href = url
ela.target = '_blank'
fname && (ela.download = fname)
let evt = document.createEvent("MouseEvents");
evt.initEvent("click",true,true);
ela.dispatchEvent(evt);
```

### 7.1.2  Firefoxä¸‹å†…è”æ¡†æ¶iframeæ— æ³•æ˜¾ç¤º

ä»¥ä¸‹ä»£ç åœ¨ç«ç‹52ç‰ˆæœ¬ä¸­å®æµ‹æ— æ•ˆï¼Œåœ¨94ç‰ˆæœ¬ä¸­å¯è¡Œã€‚

```html
<iframe
    class="flex-auto"
    :ware_id="ware_id"
    ref="iframe"
    height='100%'
    width='100%'
    scrolling='no'
    frameborder="0"
    allowfullscreen
    webkitallowfullscreen
    :src="`/#/pdffull/${ware_id}/${course_id}/${chapter_id}`">
</iframe>
```

åŸå› ï¼š

> åœ¨Firefoxä½ç‰ˆæœ¬ä¸­ï¼Œä¸èƒ½é€šè¿‡srcæ¥è®¾ç½®loadé¡µé¢çš„åœ°å€ï¼Œéœ€è¦é€šè¿‡hrefæ¥è®¾ç½®ã€‚

â€‹																												[â€”â€”å¼•è‡ªCSDN](https://blog.csdn.net/vicky_lxw/article/details/51079078)

è§£å†³æ–¹æ¡ˆï¼š

åˆ©ç”¨jsï¼šHTMLElement.contentWindow.location.href="....";

```js
mounted() {
    const url = `/#/pdffull/${this.ware_id}/${this.course_id}/${this.chapter_id}`
    this.$refs.iframe.contentDocument.location.href=url
}
```

### 7.1.3 Firefoxä¸‹el-inputç‚¹å‡»äº‹ä»¶å¤±æ•ˆ

ä»¥ä¸‹ä»£ç çš„ç‚¹å‡»äº‹ä»¶åœ¨ç«ç‹94æˆ–æ›´ä½ç‰ˆæœ¬ä¸­æ— æ•ˆï¼Œæ›´é«˜ç‰ˆæœ¬ç›®å‰æœªçŸ¥ã€‚

```js
<el-input 
	class="input-show cpointer" 
    :value="showValue" 
	placeholder="è¯·é€‰æ‹©" 
	disabled
    @click.native="showDialog">
```

åŸå› ï¼š

> åœ¨Firefoxä¸­ï¼Œdisabledä¼šåŒæ—¶ç¦ç”¨æ‰å…ƒç´ ä¸­æ‰€ç»‘å®šçš„äº‹ä»¶

è§£å†³æ–¹æ¡ˆï¼š

å»é™¤disabledæˆ–è€…å°†disabledæ›¿æ¢æˆreadonly

```js
<el-input 
	class="input-show cpointer" 
    :value="showValue" 
	placeholder="è¯·é€‰æ‹©" 
	readonly
    @click.native="showDialog">
```

---

## 7.2 è°·æ­Œæµè§ˆå™¨

### 7.2.1 Google49çš„flexå¸ƒå±€ä¸­ï¼Œå­å…ƒç´ heightè®¾ç½®ä¸º100%å¤±æ•ˆ

é—®é¢˜æè¿°ï¼šä»¥ä¸‹ä»£ç ä¸­ï¼Œâ€œchildrenâ€å®¹å™¨çš„100%æ˜¯æ— æ•ˆã€‚å®ƒä¸ä¼šå æ»¡å®ƒçš„çˆ¶å®¹å™¨ï¼Œåªä¼šæ ¹æ®è‡ªèº«å¤§å°å†³å®šé«˜åº¦ã€‚

```vue
<div style="display: flex;height: 100Vh">
  <div style="flex: none;height: 50px">
    xxx
  </div>
  <div style="flex: auto;">
    <div id="children" style="height: 100%">
      â€¦â€¦
    </div>
  </div>
</div>
```

åŸå› ï¼š

> åœ¨Google49ä¸­ï¼Œflexå¸ƒå±€ä¸‹çš„å­å®¹å™¨è®¾ç½®é«˜åº¦ä¸º100%æ—¶ï¼Œçˆ¶å®¹å™¨çš„æ²¡æœ‰å¯ä»¥å‚è€ƒçš„é«˜åº¦ï¼Œæ•…100%å¤±æ•ˆ

è§£å†³æ–¹æ¡ˆï¼š

1.åœ¨â€œflex: auto;â€çš„å®¹å™¨ä¸­ç¡®å®šå¥½å½“å‰å®¹å™¨çš„å…·ä½“é«˜åº¦ï¼ˆç‰¹æ®Šæƒ…å†µä¸‹ä¹Ÿå¯èƒ½æ˜¯ç”¨ç™¾åˆ†æ¯”ï¼Œä¾å®é™…æƒ…å†µè€Œè®ºï¼‰ï¼Œè¿™æ ·â€œchildrenâ€çš„100%å°±å¯ä»¥å‚è€ƒå®ƒçš„çˆ¶å®¹å™¨äº†ï¼Œä½†â€œflex:autoâ€å¯èƒ½ä¼šæ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº†ï¼›

```vue
<div style="display: flex;height: 100Vh">
  <div style="flex: none;height: 50px">
    xxx
  </div>
  <div style="flex: auto;height: calc(100% - 50px)">
    <div id="children" style="height: 100%">
      â€¦â€¦
    </div>
  </div>
</div>
```

2.å°†â€œchildrenâ€çš„çˆ¶å®¹å™¨ä¹Ÿè®¾ä¸ºflexå¸ƒå±€ï¼Œç„¶åâ€œchildrenâ€å†ç”¨â€œflex:autoâ€å°†é«˜åº¦æ’‘å¼€ã€‚

```vue
<div style="display: flex;height: 100Vh">
  <div style="flex: none;height: 50px">
    xxx
  </div>
  <div style="flex: auto;display: flex">
    <div id="children" style="height: 100%;flex: auto;">
      â€¦â€¦
    </div>
  </div>
</div>
```

è¯´æ˜ï¼š

å¦‚æœä½¿ç”¨äº†å¼¹æ€§å¸ƒå±€ï¼ˆflexï¼‰ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨height:100%ï¼Œç”¨flex:autoæ’‘å¼€å°±å¥½äº†
